<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>المجموعات</title>
    <link rel="stylesheet" href="cd.css">
</head>
<body>
    <header class="header-images">
        <img src="photo/photo_2025-01-26_08-06-32.jpg" alt="لوجو يمين">
        <h1> إدارة المهام  </h1>
        <img src="photo/photo_2025-02-18_19-50-28.jpg" alt="لوجو يسار">
    </header>
    
    <div class="container">
        <h2>المجموعات المتاحة</h2>
        <div id="groupsContainer"></div>
        <button onclick="window.location.href='task.html'">إدارة المهام</button>
    </div>
    
    <script>
        window.onload = function() {
            loadGroups();
        }

        function loadGroups() {
            fetch('https://firestore.googleapis.com/v1/projects/chat-22b5f/databases/(default)/documents/Tasks')
                .then(response => response.json())
                .then(data => {
                    const groupsContainer = document.getElementById('groupsContainer');
                    groupsContainer.innerHTML = '';
                    if (data.documents) {
                        data.documents.forEach(group => {
                            addGroupToUI(group.fields.groupName.stringValue);
                        });
                    }
                })
                .catch(error => console.error('Error:', error));
        }

        function addGroupToUI(groupName) {
            const groupsContainer = document.getElementById('groupsContainer');
            const groupButton = document.createElement('button');
            groupButton.textContent = groupName;
            groupButton.onclick = () => loadTasks(groupName);
            groupsContainer.appendChild(groupButton);
        }

        function loadTasks(groupName) {
            alert(`عرض المهام الخاصة بالمجموعة: ${groupName}`);
        }
    </script>
    
    <footer>
        <p>جميع الحقوق محفوظة تيم التدخل السريع &copy; 2025 | تصميم وتطوير: محمد السيد عبد الفتاح</p>
    </footer>
</body>
</html>
